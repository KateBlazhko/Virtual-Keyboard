(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=i((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];s(this,e);var c=document.createElement(n);c.className=r,c.innerHTML=o,this.node=c,i?t.append(c):t.prepend(c)})),u=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&t(e,n)}(a,e);var o,c,u=(o=a,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=r(o);if(c){var i=r(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return n(this,e)});function a(e,t,n,r){var o;return s(this,a),(o=u.call(this,e,"img",t)).node.src=n,o.node.alt=r,o}return i(a)}(c);function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];s.classList.remove(e)}}function l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];s.classList.toggle(e)}}function f(e,t,n){return e<t?e+=1:e=n,e}function d(e,t){return 0!==e?e-=1:e=t,e}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function m(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=w(t);if(n){var o=w(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return m(this,e)});function o(e,t,n){var i;v(this,o),i=r.call(this,e);var s=new c(i.node,"div","popup-overlay"),u=new c(s.node,"div","popup-wrapper"),a=new c(u.node,"div","popup-close-button"),l=new c(u.node,"div","popup-container"),f=(new c(l.node,"div","popup-img"),new c(l.node,"div","popup-data"));i.name=new c(f.node,"h3","title");var d=new c(f.node,"h4","subtitle");i.type=new c(d.node,"span","text"),new c(d.node,"span","text"," - "),i.breed=new c(d.node,"span","text"),i.description=new c(f.node,"p","pets-description");var p=new c(l.node,"ul","popup-list");return i.age=new c(p.node,"li","list-item","Age: <span><span>"),i.inoculations=new c(p.node,"li","list-item","Inoculations: <span><span>"),i.diseases=new c(p.node,"li","list-item","Diseases: <span><span>"),i.parasites=new c(p.node,"li","list-item","Parasites: <span><span>"),a.node.onclick=function(){i.onClose()},i}return h(o)}(c),S=function(){function e(t){v(this,e),console.log()}return h(e,[{key:"loadData",value:function(){return fetch("https://github.com/rolling-scopes-school/tasks/blob/master/tasks/markups/level-2/shelter/pets.json").then((function(e){return e.json()})).then((function(e){return console.log(e)}))}}]),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function x(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function s(e,t,n){var r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];j(this,s),(r=i.call(this,e,"div",t,"",o)).cardNumber=n,new u(r.node,"card-img","assets/img/".concat(r.cardNumber,".png"),"pets-img");var a=new c(r.node,"div","card-button","Learn more");return r.name=new c(r.node,"div","card-name","".concat(E[r.cardNumber-1])),a.node.onclick=function(){console.log("fff");var e=new S(r.name);console.log(e.loadData());var t=new g(document.documentElement,r.cardNumber,e);t.onClose=function(){t.node.remove()}},r}return t=s,(n=[{key:"getCardNumber",value:function(){return this.cardNumber}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(c),E=["Katrine","Jennifer","Woody","Sophia","Timmy","Charly","Scarlett","Freddie"];function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function Q(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=V(t);if(n){var o=V(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Q(this,e)});function o(e,t,n,i){var s;T(this,o),s=r.call(this,e,"div",t);var u,a,l=new c(s.node,"div","slider-wrap"),f=new c(s.node,"div","button-arrow left","←"),d=new c(s.node,"div","button-arrow right","→");return s.slider=new c(l.node,"div","slider"),s.cardQuantity=n,s.gap=i,s.offset=0,s.slideList=[],s.delay=.5,f.node.onclick=function(){u||(s.toSlidePrev(.4),u=setTimeout((function(){u=null}),400))},d.node.onclick=function(){a||(s.toSlideNext(.4),a=setTimeout((function(){a=null}),400))},s}return M(o,[{key:"createSlides",value:function(){this.sliderMain=new c(this.slider.node,"div","slider-main");for(var e=0;e<3;e++)this.slideList.push(new c(this.sliderMain.node,"div","slide"));this.indexMovedSlide=this.slideList.length-1,this.indexVisibleSlide=0,this.indexesVisibleCard=[],this.slideSize=this.cardQuantity/3;var t=this.slideList[this.indexVisibleSlide];this.createCards(t),this.translateSlides()}},{key:"createCards",value:function(e){var t=this,n=function(e){for(var t,n=e.length;0!=n;){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e}([1,2,3,4,5,6,7,8].filter((function(e){return!t.indexesVisibleCard.includes(e)})));e.node.innerHTML="",this.indexesVisibleCard=[];for(var r=0;r<this.slideSize;r++)new L(e.node,"card",n[r]),this.indexesVisibleCard.push(n[r])}},{key:"translateSlides",value:function(){var e=this;this.slideList.forEach((function(t,n){var r=e.getDelay(n),o=e.getPosition(n);0===o?(t.node.style.transform="translate(".concat(100*o,"%)"),t.node.style.transitionDuration="".concat(r,"s")):o===e.slideList.length-1?(t.node.style.transform="translate(calc(-100% - ".concat(e.gap,"px))"),t.node.style.transitionDuration="".concat(r,"s")):(t.node.style.transform="translate(calc(".concat(100*o,"% + ").concat(o*e.gap,"px))"),t.node.style.transitionDuration="".concat(r,"s"))}))}},{key:"toSlidePrev",value:function(e){var t=this;this.slider.node.style.overflow="hidden",setTimeout((function(){t.slider.node.style.overflow="visible"}),400),this.indexVisibleSlide=f(this.indexVisibleSlide,this.slideList.length-1,0),this.updateSlides(),this.isPrev=!0,this.delay=e,this.offset=d(this.offset,this.slideList.length-1),this.indexMovedSlide=f(this.indexMovedSlide,this.slideList.length,1),this.translateSlides()}},{key:"toSlideNext",value:function(e){var t=this;this.slider.node.style.overflow="hidden",setTimeout((function(){t.slider.node.style.overflow="visible"}),400),this.indexVisibleSlide=d(this.indexVisibleSlide,this.slideList.length-1),this.updateSlides(),this.isPrev=!1,this.delay=e,this.offset=f(this.offset,this.slideList.length-1,0),this.indexMovedSlide=d(this.indexMovedSlide,this.slideList.length-1),this.translateSlides()}},{key:"updateSlides",value:function(){this.createCards(this.slideList[this.indexVisibleSlide])}},{key:"resizeSlider",value:function(e,t){this.cardQuantity!==e?(this.sliderMain.node.remove(),this.cardQuantity=e,this.gap=t,this.offset=0,this.slideList=[],this.createSlides()):(this.gap=t,this.translateSlides())}},{key:"getDelay",value:function(e){var t=this.delay;return this.isPrev?e===this.indexMovedSlide-1&&(t=0):e===this.indexMovedSlide&&(t=0),t}},{key:"getPosition",value:function(e){var t=0;return e+this.offset<this.slideList.length&&(t=e+this.offset),e+this.offset>this.slideList.length&&(t=e+this.offset-this.slideList.length),t}}]),o}(c),B=function(){function e(){var t,n=this;T(this,e),this.cardQuantity=this.getcardQuantity(),this.cardGap=this.getCardGap(),this.slider=new N(G,"slider-container",this.cardQuantity,this.cardGap),window.addEventListener("resize",(function(){t||(n.cardQuantity=n.getcardQuantity(),n.cardGap=n.getCardGap(),n.slider.resizeSlider(n.cardQuantity,n.cardGap),t=setTimeout((function(){t=null}),66))}))}return M(e,[{key:"getcardQuantity",value:function(){return window.innerWidth>=1280?9:window.innerWidth>=768?6:3}},{key:"getCardGap",value:function(){return window.innerWidth>=1024?90:40}},{key:"createSlider",value:function(){this.slider.createSlides()}}]),e}(),G=document.querySelector(".pets-content");function q(e){(e.target.classList.contains("nav-link")||e.target.classList.contains("lock"))&&(z=!1,a("active",A,I,H),a("lock",W,F))}var z=!1,W=document.body,A=document.querySelector(".menu-toggle"),H=document.querySelector(".double"),F=document.querySelector(".main"),I=document.querySelector(".nav");A.addEventListener("click",(function(){A.onmousedown=function(){return!1},z=!z,l("active",A,I,H),l("lock",W,F);var e=document.querySelector(".lock");e&&e.addEventListener("click",q)})),I.addEventListener("click",q),window.addEventListener("resize",(function(){z&&(z=!1,a("active",A,I,H),a("lock",W,F))})),(new B).createSlider()})();
//# sourceMappingURL=index.js.map