(()=>{"use strict";function t(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];for(var r=0,i=n;r<i.length;r++){var a=i[r];a.classList.remove(t)}}function e(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];for(var r=0,i=n;r<i.length;r++){var a=i[r];a.classList.toggle(t)}}function n(t){for(var e,n=t.length;0!=n;){e=Math.floor(Math.random()*n),n--;var o=[t[e],t[n]];t[n]=o[0],t[e]=o[1]}return t}function o(e){(e.target.classList.contains("nav-link")||e.target.classList.contains("lock"))&&(r=!1,t("active",a,u,c),t("lock",i,s))}var r=!1,i=document.body,a=document.querySelector(".menu-toggle"),c=document.querySelector(".double"),s=document.querySelector(".main"),u=document.querySelector(".nav");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function p(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function h(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.addEventListener("click",(function(){a.onmousedown=function(){return!1},r=!r,e("active",a,u,c),e("lock",i,s);var t=document.querySelector(".lock");t&&t.addEventListener("click",o)})),u.addEventListener("click",o),window.addEventListener("resize",(function(){r&&(r=!1,t("active",a,u,c),t("lock",i,s))}));var v=h((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];b(this,t);var a=document.createElement(n);a.className=o,a.innerHTML=r,this.node=a,i?e.append(a):e.prepend(a)})),g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(r,t);var e,n,o=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=y(e);if(n){var r=y(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return p(this,t)});function r(t,e,n,i){var a;return b(this,r),(a=o.call(this,t,"img",e)).node.src=n,a.node.alt=i,a}return h(r)}(v);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}function j(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(r,t);var e,n,o=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=S(e);if(n){var r=S(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return j(this,t)});function r(t,e,n){var i;O(this,r),i=o.call(this,t);var a=new v(i.node,"div","popup-overlay"),c=new v(a.node,"div","popup-wrapper"),s=new v(c.node,"div","popup-close-button"),u=new v(c.node,"div","popup-container"),l=(new v(u.node,"div","popup-img"),new v(u.node,"div","popup-data"));i.name=new v(l.node,"h3","title");var f=new v(l.node,"h4","subtitle");i.type=new v(f.node,"span","text"),new v(f.node,"span","text"," - "),i.breed=new v(f.node,"span","text"),i.description=new v(l.node,"p","pets-description");var p=new v(u.node,"ul","popup-list");return i.age=new v(p.node,"li","list-item","Age: <span><span>"),i.inoculations=new v(p.node,"li","list-item","Inoculations: <span><span>"),i.diseases=new v(p.node,"li","list-item","Diseases: <span><span>"),i.parasites=new v(p.node,"li","list-item","Parasites: <span><span>"),s.node.onclick=function(){i.onClose()},i}return P(r)}(v),_=function(){function t(e){O(this,t),console.log()}return P(t,[{key:"loadData",value:function(){return fetch("https://github.com/rolling-scopes-school/tasks/blob/master/tasks/markups/level-2/shelter/pets.json").then((function(t){return t.json()})).then((function(t){return console.log(t)}))}}]),t}();function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function R(t,e){return R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},R(t,e)}function Q(t,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(a,t);var e,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=D(o);if(r){var n=D(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Q(this,t)});function a(t,e,n){var o,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];L(this,a),(o=i.call(this,t,"div",e,"",r)).cardNumber=n,new g(o.node,"card-img","assets/img/".concat(o.cardNumber,".png"),"pets-img");var c=new v(o.node,"div","card-button","Learn more");return o.name=new v(o.node,"div","card-name","".concat(I[o.cardNumber-1])),c.node.onclick=function(){console.log("fff");var t=new _(o.name);console.log(t.loadData());var e=new k(document.documentElement,o.cardNumber,t);e.onClose=function(){e.node.remove()}},o}return e=a,(n=[{key:"getCardNumber",value:function(){return this.cardNumber}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(v),I=["Katrine","Jennifer","Woody","Sophia","Timmy","Charly","Scarlett","Freddie"];function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function z(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}function q(t,e){return q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=F(t);if(e){var r=F(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return A(this,n)}}function A(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return W(t)}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var J,K=function(t){N(n,t);var e=H(n);function n(t,o,r,i){var a;return B(this,n),(a=e.call(this,t,"div",o)).paginationControls=new G(a.node,"pagination-controls",W(a)),a.paginationPets=new v(a.node,"div","pagination-pets"),a.paginationPetsDouble=new v(a.node,"div","pagination-pets-double"),a.isDouble=!1,a.cardQuantity=r,a.arrayIndexes=i,a.pageQuantity=Math.ceil(48/a.cardQuantity),a.paginationControls.setpageQuantity(a.pageQuantity),a.offset=0,a.cardList=a.createCards(),a}return z(n,[{key:"onChange",value:function(t){this.setOffset(t),this.updateCards()}},{key:"createCards",value:function(){this.setViewControls();var t=[];if(this.isDouble)for(var e=0;e<this.cardQuantity;e++)t.push(new T(this.paginationPetsDouble.node,"card",this.arrayIndexes[e+this.offset]));else for(var n=0;n<this.cardQuantity;n++)t.push(new T(this.paginationPets.node,"card",this.arrayIndexes[n+this.offset]));return t}},{key:"resizePagination",value:function(t,e){this.cardQuantity!==t&&(this.cardQuantity=t,this.arrayIndexes=e,this.pageQuantity=Math.ceil(48/this.cardQuantity),this.paginationControls.setpageQuantity(this.pageQuantity),this.offset=0,this.isDouble=!1,this.paginationPetsDouble.node.style.zIndex=-1,this.paginationPets.node.innerHTML="",this.paginationPets.node.style.opacity=1,this.cardList=this.createCards())}},{key:"setViewControls",value:function(){this.paginationControls.setViewControls()}},{key:"setOffset",value:function(t){switch(t){case"leftScroll":this.offset=0;break;case"prev":this.offset=this.offset-this.cardQuantity;break;case"next":this.offset=this.offset+this.cardQuantity;break;case"rightScroll":this.offset=this.cardQuantity*(this.pageQuantity-1)}}},{key:"updateCards",value:function(){this.isDouble=!this.isDouble,this.isDouble?(this.paginationPetsDouble.node.innerHTML="",this.cardList=this.createCards(),this.paginationPetsDouble.node.style.zIndex="2",this.paginationPets.node.style.opacity=0,this.paginationPetsDouble.node.style.opacity=1):(this.paginationPets.node.innerHTML="",this.cardList=this.createCards(),this.paginationPetsDouble.node.style.zIndex="0",this.paginationPets.node.style.opacity=1,this.paginationPetsDouble.node.style.opacity=0)}}]),n}(v),G=function(t){N(n,t);var e=H(n);function n(t,o,r){var i;B(this,n),(i=e.call(this,t,"div",o)).listControls={leftScroll:new v(i.node,"div","controls-button","<<"),prev:new v(i.node,"div","controls-button","<"),currentPage:new v(i.node,"div","controls-button","1"),next:new v(i.node,"div","controls-button",">"),rightScroll:new v(i.node,"div","controls-button",">>")},i.parentInstance=r;var a=function(t){i.listControls[t].node.onclick=function(){i.parentInstance.onChange(t),i.handleChange(t)}};for(var c in i.listControls)a(c);return i}return z(n,[{key:"handleChange",value:function(t){var e=this.listControls.currentPage.node,n=+this.listControls.currentPage.node.textContent;switch(t){case"leftScroll":e.textContent="1",this.setViewControls();break;case"prev":e.textContent="".concat(n-1),this.setViewControls();break;case"next":e.textContent="".concat(n+1),this.setViewControls();break;case"rightScroll":var o=this.getpageQuantity();e.textContent="".concat(o),this.setViewControls()}}},{key:"setViewControls",value:function(){var t=this.listControls.currentPage.node,e=this.listControls.rightScroll.node,n=this.listControls.leftScroll.node,o=this.listControls.prev.node,r=this.listControls.next.node;t.style.pointerEvents="none",t.classList.add("active"),"1"===t.textContent?(n.classList.add("inactive"),o.classList.add("inactive")):(n.classList.remove("inactive"),o.classList.remove("inactive"));var i=this.getpageQuantity();t.textContent==="".concat(i)?(e.classList.add("inactive"),r.classList.add("inactive")):(e.classList.remove("inactive"),r.classList.remove("inactive"))}},{key:"setpageQuantity",value:function(t){this.pageQuantity=t,this.listControls.currentPage.node.textContent="1",this.setViewControls()}},{key:"getpageQuantity",value:function(){return this.pageQuantity}},{key:"getListControls",value:function(){return this.listControls}}]),n}(v),U=$(),X=Z(),Y=new K(document.querySelector(".pets-content"),"pagination",X,U);function Z(){return window.innerWidth>=1280?8:window.innerWidth>=768?6:3}function $(){for(var t=[],e=1;e<=6;e++){for(var o=[],r=1;r<=8;r++)o.push(r);n(o),t.push.apply(t,o)}return t}window.addEventListener("resize",(function(){J||(X=Z(),U=$(),Y.resizePagination(X,U),J=setTimeout((function(){J=null}),66))}))})();
//# sourceMappingURL=pets.js.map